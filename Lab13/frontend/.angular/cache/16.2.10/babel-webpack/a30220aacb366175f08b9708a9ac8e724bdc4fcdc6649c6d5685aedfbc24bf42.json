{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let ItemComponent = class ItemComponent {\n  constructor(itemService) {\n    this.itemService = itemService;\n    this.items = [];\n    this.currentItem = {};\n    this.successMessage = '';\n    this.deleteItemId = '';\n    this.searchTerm = '';\n    this.showModal = false;\n    this.modalTitle = 'Agregar Película';\n  }\n  ngOnInit() {\n    this.getItems();\n  }\n  getItems() {\n    this.itemService.getItems().subscribe(items => {\n      this.items = items;\n    });\n  }\n  getItemById(id) {\n    this.itemService.getItemById(id).subscribe(item => {\n      this.currentItem = item;\n    });\n  }\n  createItem(item) {\n    this.itemService.createItem(item).subscribe(() => {\n      this.getItems();\n      this.currentItem = {};\n    });\n  }\n  updateItem(id, item) {\n    this.itemService.updateItem(id, item).subscribe(() => {\n      this.getItems();\n      this.currentItem = {};\n    });\n  }\n  deleteItem(id) {\n    this.itemService.deleteItem(id).subscribe(() => {\n      this.getItems();\n    });\n  }\n  editItem(id) {\n    this.getItemById(id);\n  }\n  confirmDelete(itemId) {\n    this.deleteItemId = itemId;\n  }\n  deleteConfirmed() {\n    // Lógica para eliminar un item después de confirmación\n    this.items = this.items.filter(item => item._id !== this.deleteItemId);\n    this.deleteItemId = '';\n    this.successMessage = 'Item deleted successfully.';\n  }\n  // Filtrar y ordenar la lista\n  get filteredItems() {\n    return this.items.filter(item => item.name.toLowerCase().includes(this.searchTerm.toLowerCase()) || item.description.toLowerCase().includes(this.searchTerm.toLowerCase())).sort((a, b) => a.name.localeCompare(b.description));\n  }\n  // Resto del código...\n  // Función para abrir el modal\n  openModal() {\n    this.showModal = true;\n    this.modalTitle = this.currentItem._id ? 'Editar Película' : 'Agregar Película';\n  }\n  // Función para cerrar el modal\n  closeModal() {\n    this.showModal = false;\n    this.modalTitle = 'Agregar Película'; // Restablecer el título al cerrar el modal\n  }\n};\n\nItemComponent = __decorate([Component({\n  selector: 'app-item',\n  templateUrl: './item.component.html',\n  styleUrls: ['./item.component.css']\n})], ItemComponent);","map":{"version":3,"names":["Component","ItemComponent","constructor","itemService","items","currentItem","successMessage","deleteItemId","searchTerm","showModal","modalTitle","ngOnInit","getItems","subscribe","getItemById","id","item","createItem","updateItem","deleteItem","editItem","confirmDelete","itemId","deleteConfirmed","filter","_id","filteredItems","name","toLowerCase","includes","description","sort","a","b","localeCompare","openModal","closeModal","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/dev/Development/DAWA/LABS-DAWA-ECASTRO/Lab13/frontend/src/app/item/item.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ItemService } from '../item.service';\n\n@Component({\n  selector: 'app-item',\n  templateUrl: './item.component.html',\n  styleUrls: ['./item.component.css'],\n})\nexport class ItemComponent implements OnInit {\n  items: any[] = [];\n  currentItem: any = {};\n  successMessage: string = '';\n  deleteItemId: string = '';\n  searchTerm: string = '';\n\n  constructor(private itemService: ItemService) {}\n\n  ngOnInit(): void {\n    this.getItems();\n  }\n\n  getItems(): void {\n    this.itemService.getItems().subscribe((items) => {\n      this.items = items;\n    });\n  }\n\n  getItemById(id: string): void {\n    this.itemService.getItemById(id).subscribe((item) => {\n      this.currentItem = item;\n    });\n  }\n\n  createItem(item: any): void {\n    this.itemService.createItem(item).subscribe(() => {\n      this.getItems();\n      this.currentItem = {};\n    });\n  }\n\n  updateItem(id: string, item: any): void {\n    this.itemService.updateItem(id, item).subscribe(() => {\n      this.getItems();\n      this.currentItem = {};\n    });\n  }\n\n  deleteItem(id: string): void {\n    this.itemService.deleteItem(id).subscribe(() => {\n      this.getItems();\n    });\n  }\n\n  editItem(id: string): void {\n    this.getItemById(id);\n  }\n  confirmDelete(itemId: string): void {\n    this.deleteItemId = itemId;\n  }\n\n  deleteConfirmed(): void {\n    // Lógica para eliminar un item después de confirmación\n    this.items = this.items.filter((item) => item._id !== this.deleteItemId);\n    this.deleteItemId = '';\n    this.successMessage = 'Item deleted successfully.';\n  }\n  // Filtrar y ordenar la lista\n  get filteredItems(): any[] {\n    return this.items\n      .filter(\n        (item) =>\n          item.name.toLowerCase().includes(this.searchTerm.toLowerCase()) ||\n          item.description.toLowerCase().includes(this.searchTerm.toLowerCase())\n      )\n      .sort((a, b) => a.name.localeCompare(b.description));\n  }\n  showModal: boolean = false;\n  modalTitle: string = 'Agregar Película';\n\n  // Resto del código...\n\n  // Función para abrir el modal\n  openModal() {\n    this.showModal = true;\n    this.modalTitle = this.currentItem._id\n      ? 'Editar Película'\n      : 'Agregar Película';\n  }\n\n  // Función para cerrar el modal\n  closeModal() {\n    this.showModal = false;\n    this.modalTitle = 'Agregar Película'; // Restablecer el título al cerrar el modal\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}